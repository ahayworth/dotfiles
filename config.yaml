actions:
  post:
    tmux_reload: env | grep -q TMUX && tmux source-file ~/.tmux.conf
    tpm_install_plugins: TMUX_PLUGIN_MANAGER_PATH=~/.tmux/plugins ~/.tmux/plugins/tpm/bin/install_plugins
  pre:
    tpm_install: test -e ~/.tmux/plugins/tpm || (mkdir -p ~/.tmux/plugins && git clone
      https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm)
    vim-dirs: (mkdir -p ~/.vim/.backup ~/.vim/.swp ~/.vim/.undo)
  vim-plug: vim +PlugInstall +qall
config:
  backup: true
  banner: true
  create: true
  dotpath: dotfiles
  ignoreempty: false
  keepdot: false
  link_dotfile_default: nolink
  link_on_import: nolink
  longkey: false
  showdiff: true
  workdir: ~/.config/dotdrop
dotfiles:
  00_f_bash_login:
    dst: ~/.bash_login
    src: bash_login
  01_f_bashrc:
    dst: ~/.bashrc
    src: bashrc
  02_f_gitconfig:
    dst: ~/.gitconfig
    src: gitconfig
  03_f_id_rsa:
    dst: ~/.ssh/id_rsa
    src: ssh/id_rsa
    trans: gpg_ssh
  04_f_id_rsa.pub:
    dst: ~/.ssh/id_rsa.pub
    src: ssh/id_rsa.pub
  05_f_plug.vim:
    dst: ~/.vim/autoload/plug.vim
    src: vim/autoload/plug.vim
  06_f_vimrc:
    actions:
    - vim-plug
    - vim-dirs
    dst: ~/.vimrc
    src: vimrc
  07_f_tmux.conf:
    actions:
    - tpm_install
    - tpm_install_plugins
    - tmux_reload
    dst: ~/.tmux.conf
    src: tmux.conf
  08_f_bash_aliases:
    dst: ~/.bash_aliases
    src: bash_aliases
  09_f_ssh_config:
    dst: ~/.ssh/config
    src: ssh/config
  10_f_bash_aliases.work:
    dst: ~/.bash_aliases.work
    src: bash_aliases.work
    trans: gpg
  11_f_ssh_config.work:
    dst: ~/.ssh/config.work
    src: ssh/config.work
    trans: gpg
  12_gitconfig_Work:
    dst: ~/.gitconfig-work
    src: gitconfig-work
profiles:
  alpha5:
    dotfiles: []
    include:
    - linux
    - linux_server
  linux:
    dotfiles:
    - 07_f_tmux.conf
    include:
    - linux_server
  linux_server:
    dotfiles:
    - 00_f_bash_login
    - 01_f_bashrc
    - 02_f_gitconfig
    - 03_f_id_rsa
    - 04_f_id_rsa.pub
    - 05_f_plug.vim
    - 06_f_vimrc
    - 08_f_bash_aliases
    - 09_f_ssh_config
  mac_work:
    dotfiles:
    - ALL
  nuc:
    dotfiles: []
    include:
    - linux_server
  pi-games:
    dotfiles: []
    include:
    - linux_server
  zordon.local:
    dotfiles: []
    include:
    - mac_work
trans:
  gpg: gpg -q -d {0} > {1}
  gpg_ssh: gpg -q -d {0} > {1} && chmod 0600 {1}
